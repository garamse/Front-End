<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery</title>
    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
    <style>
      .box {
        margin: 1rem;
        padding: 1rem;
        min-height: 100px;
        border: 1px solid black;
      }
    </style>
  </head>

  <body>
    <div>
      <button id="btn1">버튼1</button>
      <button id="btn2">버튼2</button>
      <button id="btn3">버튼3</button>
    </div>
    <div id="result1" class="box"></div>
    <div id="result2" class="box"></div>
    <div id="result3" class="box"></div>

    <script>
      /* ## ajax

    jQuery에서 비동기로 http 요청을 합니다.

    ### 문법

    - url : 요청보낼 URL
    - method : http 메소드 - GET, POST, PUT
    - data : 함께 전송할 데이터
    - dataType: 서버 응답 데이터 타입
    - done() : 요청에 대한 응답이 온 후 실행할 함수
    - fail() : 요청이 실패 한 경우 실행할 함수
    - always() : 요청후 항상 실행할 함수
    */

      $.ajax({
        url: "URL주소",
        method: "POST",
        data: { name: "John", location: "Boston" },
      })
        .done(function (response) {
          // 성공했을 때
        })
        .fail(function () {
          // 실패했을 때
        })
        .always(function () {
          // 항상 실행
        });

      /* 코로나 데이터 가져와서 시도명과 1차 접종 퍼센트 출력하기
    const data_url = "https://raw.githubusercontent.com/paullabkorea/coronaVaccinationStatus/main/data/data.json";

    $.ajax({
        url: data_url,
        method: "GET",
        dataType: "json"
    }).done(function(response_data) {		
        response_data.forEach(function(data){
            console.log(data["시·도별(1)"]);
            console.log(data["1차 접종 퍼센트"]);
            const location = data["시·도별(1)"];
            const first_percent = data["1차 접종 퍼센트"];
            $("#result1").append(`<p>${location} : ${first_percent}</p>`);
        });
    })*/

      /* 유저 목록 가져오기 (GET)
     const url = "https://reqres.in/api/users";

    $.ajax({
        url: url,
        method: "GET",
        dataType: "json"
    }).done(function(response_data) {		
        response_data["data"].forEach(function(user){
            $user = $("<div></div>");
            $user.append(`<img src="${user['avatar']}">`);
            $user.append(`<p>${user["id"]} - ${user["email"]}</p>`);
            $("#result1").append($user);
        });
    }); */

      /* 유저 목록 가져오기 (POST)
    const url = "https://reqres.in/api/users";

    $.ajax({
        url: url,
        method: "POST",
        data: {
        "name": "morpheus",
        "job": "leader"
        },
        dataType: "json"
    }).done(function(response_data) {	
        console.log(response_data);
    });
    */
    </script>
  </body>
</html>
